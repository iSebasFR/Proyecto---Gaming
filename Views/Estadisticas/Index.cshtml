@model Proyecto_Gaming.ViewModels.PerfilViewModel

@{
    ViewData["Title"] = "Estadísticas";
}

<div class="stats-page-container">
    <!-- Header de la página -->
    <div class="stats-header mb-4">
        <h2 class="stats-main-title">Estadísticas</h2>
        <p class="stats-subtitle">Analiza tu actividad y progreso en la plataforma</p>
    </div>

    <!-- Contenido de estadísticas -->
    @await Html.PartialAsync("~/Views/Perfil/_Estadisticas.cshtml", Model)

    <!-- Botón de volver mejorado -->
    <div class="stats-footer mt-5">
        <a asp-controller="Perfil" asp-action="Index" class="btn btn-primary btn-back">
            <i class="fas fa-arrow-left me-2"></i>Volver al Perfil
        </a>
    </div>
</div>

<style>
    /* PALETA DE COLORES GAMING PARA ESTADÍSTICAS */
    :root {
        --stats-bg-dark: #0a0a1a;
        --stats-bg-darker: #070714;
        --stats-card-bg: #151530;
        --stats-accent-purple: #8b2ce6;
        --stats-accent-blue: #2c5be6;
        --stats-neon-purple: #b042ff;
        --stats-neon-blue: #428bff;
        --stats-success: #06d6a0;
        --stats-warning: #ff9e1a;
        --stats-text-primary: #ffffff;
        --stats-text-secondary: #b8b8d0;
        --stats-border: rgba(139, 44, 230, 0.3);
        --stats-glow: rgba(139, 44, 230, 0.5);
    }

    /* CONTENEDOR PRINCIPAL */
    .stats-page-container {
        background: linear-gradient(135deg, var(--stats-bg-darker) 0%, var(--stats-bg-dark) 100%);
        min-height: 100vh;
        padding: 2rem 0;
        color: var(--stats-text-primary);
    }

    /* HEADER DE LA PÁGINA */
    .stats-header {
        text-align: center;
        padding: 2rem 0;
        background: linear-gradient(135deg, rgba(139, 44, 230, 0.1), rgba(66, 139, 255, 0.1));
        border-radius: 20px;
        border: 1px solid var(--stats-border);
        backdrop-filter: blur(10px);
        margin-bottom: 2rem !important;
        position: relative;
        overflow: hidden;
    }

    .stats-header::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.8s ease;
    }

    .stats-header:hover::before {
        left: 100%;
    }

    .stats-main-title {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
        background: linear-gradient(135deg, var(--stats-text-primary), var(--stats-neon-purple));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 30px var(--stats-glow);
        position: relative;
        display: inline-block;
    }

    .stats-main-title::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 3px;
        background: linear-gradient(90deg, var(--stats-neon-purple), var(--stats-neon-blue));
        border-radius: 2px;
    }

    .stats-subtitle {
        color: var(--stats-text-secondary);
        font-size: 1.1rem;
        margin: 0;
        font-weight: 500;
        opacity: 0.9;
    }

    /* BOTÓN DE VOLVER MEJORADO */
    .stats-footer {
        text-align: center;
        padding: 2rem 0;
    }

    .btn-back {
        background: linear-gradient(135deg, var(--stats-accent-purple), var(--stats-accent-blue));
        border: none;
        border-radius: 25px;
        padding: 12px 30px;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 200px;
    }

    .btn-back::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.6s ease;
    }

    .btn-back:hover::before {
        left: 100%;
    }

    .btn-back:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px var(--stats-glow);
        background: linear-gradient(135deg, var(--stats-neon-purple), var(--stats-neon-blue));
        text-decoration: none;
    }

    .btn-back:active {
        transform: translateY(-1px);
    }

    /* MEJORAS PARA LAS ESTADÍSTICAS EXISTENTES */
    .stats-card {
        background: var(--stats-card-bg) !important;
        border: 1px solid var(--stats-border) !important;
        border-radius: 15px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 25px rgba(139, 44, 230, 0.1);
        transition: all 0.3s ease;
        margin-bottom: 1.5rem !important;
        position: relative;
        overflow: hidden;
    }

    .stats-card::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, 
            transparent, 
            var(--stats-neon-purple), 
            var(--stats-neon-blue), 
            transparent
        );
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .stats-card:hover::after {
        opacity: 1;
    }

    .stats-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(139, 44, 230, 0.2);
        border-color: rgba(139, 44, 230, 0.5) !important;
    }

    .stats-card .card-header {
        background: rgba(139, 44, 230, 0.1) !important;
        border-bottom: 1px solid var(--stats-border) !important;
        padding: 1.25rem 1.5rem;
    }

    .stats-card .card-header h5 {
        color: var(--stats-text-primary);
        font-weight: 700;
        margin: 0;
        font-size: 1.1rem;
        background: linear-gradient(135deg, var(--stats-text-primary), var(--stats-text-secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* ANIMACIONES DE ENTRADA */
    .stats-header,
    .stats-card,
    .stats-footer {
        animation: fadeInUp 0.8s ease-out;
    }


    /* EFECTO DE PARTICULAS DECORATIVAS */
    .stats-header::after {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle, var(--stats-glow) 0%, transparent 70%);
        opacity: 0.1;
        animation: float 6s ease-in-out infinite;
    }


    /* SCROLL SMOOTH */
    html {
        scroll-behavior: smooth;
    }

    /* MEJORAS DE ACCESIBILIDAD */
    .btn-back:focus {
        outline: 2px solid var(--stats-neon-purple);
        outline-offset: 2px;
    }

    /* EFECTO DE BRillo en hover para botones */
    .btn-back {
        position: relative;
        z-index: 1;
    }

    .btn-back::after {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(135deg, var(--stats-neon-purple), var(--stats-neon-blue), var(--stats-accent-purple));
        border-radius: 27px;
        z-index: -1;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .btn-back:hover::after {
        opacity: 1;
    }

    /* SOMBRA DE TEXTO MEJORADA */
    .stats-main-title {
        text-shadow: 
            0 0 20px var(--stats-glow),
            0 0 40px rgba(139, 44, 230, 0.3),
            0 0 60px rgba(139, 44, 230, 0.1);
    }
</style>

<!-- Script para mejoras interactivas -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Efecto de escritura para el título
        const title = document.querySelector('.stats-main-title');
        if (title) {
            const text = title.textContent;
            title.textContent = '';
            let i = 0;
            
            function typeWriter() {
                if (i < text.length) {
                    title.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                }
            }
            
            // Iniciar efecto después de un breve delay
            setTimeout(typeWriter, 500);
        }

        // Efecto de aparición escalonada para las tarjetas
        const cards = document.querySelectorAll('.stats-card');
        cards.forEach((card, index) => {
            card.style.animationDelay = `${index * 0.1}s`;
        });

        // Smooth scroll para elementos internos
        const links = document.querySelectorAll('a[href^="#"]');
        links.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    });

    // Efecto de parallax para el header
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const header = document.querySelector('.stats-header');
        if (header) {
            header.style.transform = `translateY(${scrolled * 0.1}px)`;
        }
    });
</script>